-- 1. 테이블 삭제 (삭제 순서는 관계없음 CASCADE 덕분)
DROP TABLE IF EXISTS "notifications" CASCADE;
DROP TABLE IF EXISTS "messages" CASCADE;
DROP TABLE IF EXISTS "message_room_member" CASCADE;
DROP TABLE IF EXISTS "message_rooms" CASCADE;
DROP TABLE IF EXISTS "follows" CASCADE;
DROP TABLE IF EXISTS "todo_list" CASCADE;
DROP TABLE IF EXISTS "core_tasks" CASCADE;
DROP TABLE IF EXISTS "goals" CASCADE;
DROP TABLE IF EXISTS "profiles" CASCADE;
-- auth.users는 외부(Supabase 등)에서 관리된다면 제외, 직접 생성했다면 포함
-- DROP TABLE IF EXISTS "auth"."users" CASCADE; 

-- 2. 생성된 커스텀 타입(Enum) 삭제
DROP TYPE IF EXISTS "public"."task_priority";
DROP TYPE IF EXISTS "public"."goal_status";
DROP TYPE IF EXISTS "public"."ai_styles";
DROP TYPE IF EXISTS "public"."motivation_type";
DROP TYPE IF EXISTS "public"."notification_type";
DROP TYPE IF EXISTS "public"."task_count";
DROP TYPE IF EXISTS "public"."todo_style";

-- 3. drizzle 마이그레이션 메타데이터 삭제 (선택 사항이나 추천)
DROP TABLE IF EXISTS "__drizzle_migrations";


npm run db:migrate 할때 아래 구문 삭제 필요
--> statement-breakpoint
CREATE TABLE "auth"."users" (
	"id" uuid PRIMARY KEY NOT NULL
);
--> statement-breakpoint